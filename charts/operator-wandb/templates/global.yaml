apiVersion: v1
kind: Secret
metadata:
  name: {{ .Release.Name }}-global-secret
  labels:
    {{- include "wandb.commonLabels" . | nindent 4 }}
data:
{{/*  Testing moving this into the base chart, since deleting from secrets seem inconsitent */}}
{{/*  {{- range $key, $value := .Values.global.extraEnv }}*/}}
{{/*  {{ $key }}: {{ toString $value | b64enc }}*/}}
{{/*  {{- end }}*/}}
  {{- if ne (.Values.global.statsig.apiKey | default "") "" }}
  GORILLA_STATSIG_KEY: {{ .Values.global.statsig.apiKey | b64enc }}
  {{- end }}

  # T-shirt size for deployment
  GORILLA_TSHIRT_SIZE: {{ .Values.global.size | default "small" | b64enc }}
  GORILLA_ONPREM: {{ print "true" | b64enc }}
