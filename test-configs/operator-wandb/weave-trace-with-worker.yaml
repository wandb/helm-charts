global:
  bucket:
    provider: "s3"
    name: "minio.minio.svc.cluster.local:9000/bucket"
    region: "us-east-1"
    accessKey: "minio"
    secretKey: "testpassword"
  extraEnv:
    GLOBAL_ADMIN_API_KEY: "local-123456789-123456789-123456789-1234"
    GORILLA_INSECURE_ALLOW_API_KEY_ADMIN_ACCESS: "true"
    BUCKET_PROXY: "true"
    GORILLA_GLUE_FILE_STORE_IS_PROXIED: "true"
    GORILLA_FILE_STORE_IS_PROXIED: "true"
  glue:
    enabled: true
  api:
    enabled: true
  weave-trace:
    enabled: true
  size: testing

app:
  env:
    GORILLA_STORAGE_BUCKET: "s3://local-files"

console:
  containers:
    console:
      resources:
        requests:
          cpu: 40m
          memory: 64Mi

weave-trace:
  install: true

weave-trace-worker:
  install: true
  # We set this by hand because the secret is not created by the operator.
  # It is created by Terraform.
  # The below is left as an example, this secret should be present in the cluster with the test value "foobar"
  #env:
  #  WANDB_INTERNAL_SERVICE_TOKEN:
  #    value: "foobar"

nginx:
  install: true
  additionalServices:
    bucket:
      host: "http://minio.minio.svc.cluster.local:9000"
      headers:
        Host: "minio.minio.svc.cluster.local:9000"

ingress:
  install: false
  create: false

mysql:
  install: true
  resources:
    requests:
      cpu: "40m"
      memory: "64Mi"

redis:
  install: true
  resources:
    requests:
      cpu: "40m"
      memory: "64Mi"

clickhouse:
  install: true
  persistence:
    size: 2Gi
  keeper:
    persistence:
      size: 2Gi
    resources:
      requests:
        cpu: "40m"
        memory: "64Mi"
  resources:
    requests:
      cpu: "40m"
      memory: "64Mi"

reloader:
  install: true
  resources:
    requests:
    cpu: "40m"
    memory: "64Mi"

etcd:
  registry: bitnamilegacy

bufstream:
  install: true
  registry: bitnamilegacy
  zone: "kind"
  storage:
    s3:
      forcePathStyle: true
  bufstream:
    deployment:
      resources:
        requests:
          cpu: "40m"
          memory: "64Mi"

anaconda2:
  install: true
