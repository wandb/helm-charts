global:
  repositoryPrefix: "us-docker.pkg.dev/wandb-production/public"
  imageRegistry: "us-docker.pkg.dev/wandb-production/public"
  bucket:
    provider: "s3"
    name: "minio:9000/bucket"
    region: "us-east-1"
    accessKey: "minio"
    secretKey: "testpassword"
  env:
    GLOBAL_ADMIN_API_KEY: "local-e6473d304d3487851f5e2501657d3d81f8420874"
    GORILLA_INSECURE_ALLOW_API_KEY_ADMIN_ACCESS: "true"
    GORILLA_RUN_STORE_ONPREM_MIGRATE_CREATE_RUN_TABLES: "true"
    GORILLA_RUN_STORE_ONPREM_MIGRATE_CREATE_RUN_STORE: "true"
    GORILLA_RUN_STORE_ONPREM_MIGRATE_SHADOW_RUN_UPDATES: "true"
    GORILLA_RUN_STORE_ONPREM_MIGRATE_DISABLE_READS: "false"
    GORILLA_RUN_STORE_ONPREM_MIGRATE_FLAT_RUNS_MIGRATOR: "true"
    BUCKET_PROXY: "true"
    GORILLA_GLUE_FILE_STORE_IS_PROXIED: "true"
    GORILLA_FILE_STORE_IS_PROXIED: "true"
  redis:
    password: "redis123"
  glue:
    enabled: true
  api:
    enabled: true
    rateLimits:
      enabled: false
  executor:
    enabled: true
  bufstream:
    enabled: true
  size: "testing"

app:
  env:
    GORILLA_STORAGE_BUCKET: "s3://local-files"
    GORILLA_FILEMETA_ENABLED: "false"

executor:
  install: true

filemeta:
  install: true

flat-run-fields-updater:
  install: true

# TODO: enable after new server release branch, current docker image does not support bufstream in metric-observer.
# metric-observer:
#   install: true

frontend:
  install: true

nginx:
  install: true
  additionalServices:
    bucket:
      host: "http://minio:9000"
      headers:
        Host: "minio:9000"

ingress:
  install: false
  create: false

mysql:
  install: true
  image:
    tag: "8.4"
  resources:
    requests:
      cpu: "40m"
      memory: "64Mi"

redis:
  install: true
  resources:
    requests:
      cpu: "40m"
      memory: "64Mi"

bufstream:
  install: true
  zone: "kind"
  storage:
    s3:
      forcePathStyle: true
  bufstream:
    deployment:
      resources:
        requests:
          cpu: "40m"
          memory: "64Mi"

reloader:
  install: true
  resources:
    requests:
      cpu: "40m"
      memory: "64Mi"

anaconda2:
  install: true
